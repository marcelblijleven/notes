# Generating mocks using reflection with golang/mockgen
`golang/mockgen` can generate mock interfaces by providing an import path and a comma separated list of symbols/interfaces.

## Usage
The following will output the generated mocks to your terminal
```bash
mockgen github.com/marcelblijleven/til/fakepackage Client
```

Outputting the mock interface to an existing file by using `> path/to/file.go`
```bash
mockgen github.com/marcelblijleven/til/fakepackage Client > mock_fakepackage/mock_client.go
```

## Example
When creating mocks for the following interface, the generated output will look like this.

Interface
```go
type Client interface {
	GetUserByUserID(userID int) (User, error)
}
```

Output
```go
// Code generated by MockGen. DO NOT EDIT.
// Source: temp/sample (interfaces: Client)

// Package mock_sample is a generated GoMock package.
package mock_sample

import (
        gomock "github.com/golang/mock/gomock"
        reflect "reflect"
        sample "temp/sample"
)

// MockClient is a mock of Client interface
type MockClient struct {
        ctrl     *gomock.Controller
        recorder *MockClientMockRecorder
}

// MockClientMockRecorder is the mock recorder for MockClient
type MockClientMockRecorder struct {
        mock *MockClient
}

// NewMockClient creates a new mock instance
func NewMockClient(ctrl *gomock.Controller) *MockClient {
        mock := &MockClient{ctrl: ctrl}
        mock.recorder = &MockClientMockRecorder{mock}
        return mock
}

// EXPECT returns an object that allows the caller to indicate expected use
func (m *MockClient) EXPECT() *MockClientMockRecorder {
        return m.recorder
}

// GetUserByUserID mocks base method
func (m *MockClient) GetUserByUserID(arg0 int) (sample.User, error) {
        m.ctrl.T.Helper()
        ret := m.ctrl.Call(m, "GetUserByUserID", arg0)
        ret0, _ := ret[0].(sample.User)
        ret1, _ := ret[1].(error)
        return ret0, ret1
}

// GetUserByUserID indicates an expected call of GetUserByUserID
func (mr *MockClientMockRecorder) GetUserByUserID(arg0 interface{}) *gomock.Call {
        mr.mock.ctrl.T.Helper()
        return mr.mock.ctrl.RecordCallWithMethodType(mr.mock, "GetUserByUserID", reflect.TypeOf((*MockClient)(nil).GetUserByUserID), arg0)
}
```
